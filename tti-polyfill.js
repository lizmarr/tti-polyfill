(function(){var g="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,k="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};function l(){l=function(){};g.Symbol||(g.Symbol=m)}var n=0;function m(a){return"jscomp_symbol_"+(a||"")+n++}
function p(){l();var a=g.Symbol.iterator;a||(a=g.Symbol.iterator=g.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&k(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return q(this)}});p=function(){}}function q(a){var b=0;return r(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function r(a){p();a={next:a};a[g.Symbol.iterator]=function(){return this};return a}function t(a){p();var b=a[Symbol.iterator];return b?b.call(a):q(a)}
function u(a){if(!(a instanceof Array)){a=t(a);for(var b,d=[];!(b=a.next()).done;)d.push(b.value);a=d}return a}var v=0;function w(a,b){var d=fetch;fetch=function(c){for(var e=[],f=0;f<arguments.length;++f)e[f-0]=arguments[f];return new Promise(function(c,f){var h=v++;a(h);d.apply(null,[].concat(u(e))).then(function(a){b(h);c(a)},function(a){b(a);f(a)})})}}
function x(a,b){if(2<a.length)return performance.now();var d=[];b=t(b);for(var c=b.next();!c.done;c=b.next())c=c.value,d.push({timestamp:c.start,type:"requestStart"}),d.push({timestamp:c.end,type:"requestEnd"});b=t(a);for(c=b.next();!c.done;c=b.next())d.push({timestamp:c.value,type:"requestStart"});d.sort(function(a,b){return a.timestamp-b.timestamp});a=a.length;for(b=d.length-1;0<=b;b--)switch(c=d[b],c.type){case "requestStart":a--;break;case "requestEnd":a++;if(2<a)return c.timestamp;break;default:throw Error("Internal Error: This should never happen");
}return 0}function y(a){a=a?a:{};this.g=a.minValue||null;this.s=[];this.b=new Map;this.c=null;this.h=-Infinity;this.a=!1;this.f=null;w(this.j.bind(this),this.i.bind(this))}y.prototype.getFirstConsistentlyInteractive=function(){var a=this;return new Promise(function(b){a.f=b;"complete"==document.readyState?(a.a=!0,z(a,0)):window.addEventListener("load",function(){a.a=!0;z(a,0)})})};
function z(a,b){!a.a||a.h>b||(clearTimeout(a.c),a.c=setTimeout(function(){var b=performance.timing.navigationStart,c=x(a.l,a.s),b=(window.a&&window.a.m?1E3*window.a.m().u-b:0)||performance.timing.domContentLoadedEventEnd-b;if(a.g)var e=a.g;else performance.timing.domContentLoadedEventEnd?(e=performance.timing,e=e.domContentLoadedEventEnd-e.navigationStart):e=null;var f=performance.now();null===e&&z(a,Math.max(c+5E3,f+1E3));var h=[];5E3>f-c?c=null:(c=h.length?h[h.length-1].end:b,c=5E3>f-c?null:Math.max(c,
e));c&&(a.f(c),clearTimeout(a.c),a.a=!1);z(a,performance.now()+1E3)},b-performance.now()),a.h=b)}y.prototype.j=function(a){this.b.set(a,performance.now())};y.prototype.i=function(a){this.b.delete(a)};g.Object.defineProperties(y.prototype,{l:{configurable:!0,enumerable:!0,get:function(){return[].concat(u(this.b.values()))}}});var A={getFirstConsistentlyInteractive:function(a){a=a?a:{};return"PerformanceLongTaskTiming"in window?(new y(a)).getFirstConsistentlyInteractive():Promise.resolve(null)}};
"undefined"!=typeof module&&module.exports?module.exports=A:"function"===typeof define&&define.amd?define("ttiPolyfill",[],function(){return A}):window.ttiPolyfill=A;})();
//# sourceMappingURL=tti-polyfill.js.map